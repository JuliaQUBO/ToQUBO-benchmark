#! /usr/bin/env bash

# Benchmarks:
# - PyQUBO   (latest)
# - PyQUBO   (0.4.0)
# - qubovert (latest)
# Every benchmark must produce the following files:
# - results.tsp.csv
# - results.npp.csv
# There must be at least two columns on each file:
# - `nvar` (int)
# - `time` (float)

function benchmark {
    echo "Installing ${1}"
    virtualenv ./benchmark/${1}
    source ./benchmark/${1}/bin/activate
    pip install -r ./benchmark/${1}/requirements.txt

    echo "Running ${1}"
    python -m benchmark.${1}

    echo "Finishing ${1}"
    deactivate
}

benchmark "pyqubo"
benchmark "pyqubo_040"
benchmark "qubovert"
