#! /usr/bin/env bash

# Benchmarks:
# - ToQUBO
# Every benchmark must produce the following files:
# - results.tsp.csv
# - results.npp.csv
# There must be at least two columns on each file:
# - `nvar` (int)
# - `time` (float)

echo "Installing ToQUBO.jl"
julia --proj -e 'import Pkg; Pkg.add(Pkg.PackageSpec(url="https://github.com/psrenergy/ToQUBO.jl.git", rev="px/refactor")); Pkg.instantiate()'
julia --proj ./benchmark/ToQUBO/create_sysimage.jl

echo "Running ToQUBO.jl"
julia --project=. --sysimage ./benchmark/ToQUBO/sysimage ./benchmark/ToQUBO/benchmark.jl --run